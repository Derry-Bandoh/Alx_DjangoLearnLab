{% load static %}
<!-- list_books.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Books List</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
</head>

<body>
    <h1>Books List</h1>

    {% if perms.relationship_app.can_add_book %}
    <a href="{% url 'add_book' %}" style="margin-bottom: 20px; display: inline-block;">Add New Book</a>
    {% endif %}

    <ul>
        {% for book in books %}
        <li>
            <strong>{{ book.title }}</strong> by {{ book.author }}
            {% if book.publication_year %}({{ book.publication_year }}){% endif %}

            {% if perms.relationship_app.can_change_book %}
            <a href="{% url 'edit_book' book.pk %}">Edit</a>
            {% endif %}

            {% if perms.relationship_app.can_delete_book %}
            <a href="{% url 'delete_book' book.pk %}" style="color: red;">Delete</a>
            {% endif %}
        </li>
        {% empty %}
        <li>No books available.</li>
        {% endfor %}
    </ul>

    <a href="{% url 'home' %}">Back to Home</a>
</body>

</html>